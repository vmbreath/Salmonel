(this["webpackJsonpsalmonel-react-app"]=this["webpackJsonpsalmonel-react-app"]||[]).push([[0],{69:function(e,n,t){},71:function(e,n,t){},86:function(e,n,t){"use strict";t.r(n);var r=t(5),a=t(0),i=t.n(a),c=t(8),s=t.n(c),o=(t(69),t(23)),u=t.n(o),l=t(30),d=t(135),h=(t(71),t(37)),f=t(123),j=t(126),p=t(129),b=t(133),g=t(132),O=t(128),x=t(130),A=t(136),v=t(131),m=t(16),F=t(43),y=function(e){try{var n=localStorage.getItem(e);if(null===n)return;return JSON.parse(n)}catch(t){return}}("reducer"),w=y?y.state.search:{serovar:"Nitra",serovars:["Nitra"],data:["ttttt"],oAntigenVariants:[],h1AntigenVariants:[],h2AntigenVariants:[],queryFilter:{find:{OAntigen:[],H1Antigen:[],H2Antigen:[]},exclude:{OAntigen:[],H1Antigen:[],H2Antigen:[]}}},k=Object(F.b)({name:"search",initialState:w,reducers:{pushNewSerovar:function(e,n){e.serovars.includes(e.town)||e.serovars.push(e.town)},deleteSerovar:function(e,n){var t=e.serovars.indexOf(n.payload);e.serovars.splice(t,1)},setNewSerovar:function(e,n){e.serovar=n.payload},setNewData:function(e,n){e.data=n.payload,n.payload.forEach((function(n){var t=n.o_antigen,r=n.h_antigen1,a=n.h_antigen2;t.forEach((function(n){e.oAntigenVariants.find((function(e){return e[0]===n}))||e.oAntigenVariants.push([n,"white"])})),r.forEach((function(n){e.h1AntigenVariants.find((function(e){return e[0]===n}))||e.h1AntigenVariants.push([n,"white"])})),a.forEach((function(n){e.h2AntigenVariants.find((function(e){return e[0]===n}))||e.h2AntigenVariants.push([n,"white"])}))}))},updateNewData:function(e,n){e.data=n.payload,console.log(e.data)},updateOAntigenVariants:function(e,n){var t=e.oAntigenVariants[n.payload];if("white"===t[1])t[1]="#AAFFB3",e.queryFilter.find.OAntigen.push(t[0]);else if("#AAFFB3"===t[1]){t[1]="#FFAFAA",e.queryFilter.exclude.OAntigen.push(t[0]);var r=e.queryFilter.find.OAntigen.indexOf(t[0]);e.queryFilter.find.OAntigen.splice(r,1)}else if("#FFAFAA"===t[1]){t[1]="white";var a=e.queryFilter.exclude.OAntigen.indexOf(t[0]);e.queryFilter.exclude.OAntigen.splice(a,1)}},updateH1AntigenVariants:function(e,n){var t=e.h1AntigenVariants[n.payload];if("white"===t[1])t[1]="#AAFFB3",e.queryFilter.find.H1Antigen.push(t[0]);else if("#AAFFB3"===t[1]){t[1]="#FFAFAA",e.queryFilter.exclude.H1Antigen.push(t[0]);var r=e.queryFilter.find.H1Antigen.indexOf(t[0]);e.queryFilter.find.H1Antigen.splice(r,1)}else if("#FFAFAA"===t[1]){t[1]="white";var a=e.queryFilter.exclude.H1Antigen.indexOf(t[0]);e.queryFilter.exclude.H1Antigen.splice(a,1)}},updateH2AntigenVariants:function(e,n){var t=e.h2AntigenVariants[n.payload];if("white"===t[1])t[1]="#AAFFB3",e.queryFilter.find.H2Antigen.push(t[0]);else if("#AAFFB3"===t[1]){t[1]="#FFAFAA",e.queryFilter.exclude.H2Antigen.push(t[0]);var r=e.queryFilter.find.H2Antigen.indexOf(t[0]);e.queryFilter.find.H2Antigen.splice(r,1)}else if("#FFAFAA"===t[1]){t[1]="white";var a=e.queryFilter.exclude.H2Antigen.indexOf(t[0]);e.queryFilter.exclude.H2Antigen.splice(a,1)}}}}),H=k.actions,N=H.updateH1AntigenVariants,S=H.updateH2AntigenVariants,V=H.setNewSerovar,q=H.setNewData,C=H.updateOAntigenVariants,P=H.updateNewData,B=function(e){return e.search.serovar},E=function(e){return e.search.data},I=function(e){return e.search.oAntigenVariants},L=function(e){return e.search.h1AntigenVariants},W=function(e){return e.search.h2AntigenVariants},_=function(e){return e.search.queryFilter},D=k.reducer,J=(k.reducer,k.actions,[{id:"serovar",label:"\u0421\u0435\u0440\u043e\u0432\u0430\u0440",minWidth:120},{id:"o_antigen",label:"\u0421\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u041e \u0430\u043d\u0442\u0438\u0433\u0435\u043d\u044b",minWidth:100},{id:"h_antigen1",label:"\u0421\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 H \u0430\u043d\u0442\u0438\u0433\u0435\u043d\u044b (\u0424\u0430\u0437\u0430 1)",minWidth:170,align:"right"},{id:"h_antigen2",label:"\u0421\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 H \u0430\u043d\u0442\u0438\u0433\u0435\u043d\u044b (\u0424\u0430\u0437\u0430 2)",minWidth:170,align:"right"}]),R=Object(f.a)({root:{width:"100%"},container:{maxHeight:440}});function U(){var e=Object(m.b)(),n=Object(m.c)(E),t=R(),c=i.a.useState(0),s=Object(h.a)(c,2),o=s[0],d=s[1],f=i.a.useState(10),F=Object(h.a)(f,2),y=F[0],w=F[1];Object(a.useEffect)((function(){k().then((function(n){e(q(n))}))}),[]);var k=function(){var e=Object(l.a)(u.a.mark((function e(){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://salmonel-heroku.herokuapp.com/test",e.next=3,fetch("https://salmonel-heroku.herokuapp.com/test");case 3:return n=e.sent,e.next=6,n.json();case 6:return t=e.sent,e.next=9,t;case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(j.a,{className:t.root,children:[Object(r.jsx)(O.a,{className:t.container,children:Object(r.jsxs)(p.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(r.jsx)(x.a,{children:Object(r.jsx)(v.a,{children:J.map((function(e){return Object(r.jsx)(g.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(r.jsx)(b.a,{children:n.slice(o*y,o*y+y).map((function(e){return Object(r.jsx)(v.a,{hover:!0,role:"checkbox",tabIndex:-1,children:J.map((function(n){var t=e[n.id];return Array.isArray(t)&&(t=t.join(", ")),Object(r.jsx)(g.a,{align:n.align,children:n.format&&"number"===typeof t?n.format(t):t},n.id)}))},e.code)}))})]})}),Object(r.jsx)(A.a,{rowsPerPageOptions:[10,25,100,500],component:"div",count:n.length,rowsPerPage:y,page:o,onChangePage:function(e,n){d(n)},onChangeRowsPerPage:function(e){w(+e.target.value),d(0)}})]})}var T=t(134),z=Object(f.a)((function(e){return{root:{position:"relative"},dropdown:{position:"absolute",top:30,right:0,left:0,zIndex:5,border:"1px solid",padding:e.spacing(1),backgroundColor:e.palette.background.paper}}}));function M(e){var n=e.data,t=e.name,c=Object(m.b)(),s=Object(m.c)(_),o=z(),f=i.a.useState(!1),j=Object(h.a)(f,2),p=j[0],b=j[1];Object(a.useEffect)(Object(l.a)(u.a.mark((function e(){var n,t,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("https://salmonel-heroku.herokuapp.com/filter"),t=[["filter",JSON.stringify(s)]],n.search=new URLSearchParams(t).toString(),e.next=5,fetch(n);case 5:return r=e.sent,e.next=8,r.json();case 8:a=e.sent,c(P(a));case 10:case"end":return e.stop()}}),e)}))),[s]);return Object(r.jsx)(T.a,{onClickAway:function(){b(!1)},children:Object(r.jsxs)("div",{className:o.root,children:[Object(r.jsx)(d.a,{variant:"contained",color:"primary",onClick:function(){b((function(e){return!e}))},children:t}),p?Object(r.jsx)("div",{className:o.dropdown,children:n.map((function(e,n){return Object(r.jsx)(d.a,{onClick:function(){return function(e){"\u041e \u0430\u043d\u0442\u0438\u0433\u0435\u043d\u044b"===t?c(C(e)):"H1 \u0430\u043d\u0442\u0438\u0433\u0435\u043d\u044b"===t?c(N(e)):"H2 \u0430\u043d\u0442\u0438\u0433\u0435\u043d\u044b"===t&&c(S(e))}(n)},variant:"outlined",color:"primary",style:{backgroundColor:e[1]},children:e[0]},e[0])}))}):null]})})}var G=t(38),K=t(13);var Q=function(){var e=Object(m.b)(),n=Object(m.c)(B),t=Object(m.c)(I),a=Object(m.c)(L),i=Object(m.c)(W),c=function(){var e=Object(l.a)(u.a.mark((function e(){var t,r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL("https://salmonel-heroku.herokuapp.com/salmonel"),r=[["filter",n]],t.search=new URLSearchParams(r).toString(),e.next=5,fetch(t);case 5:return a=e.sent,e.next=8,a.json();case 8:return i=e.sent,e.next=11,i;case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(G.a,{basename:"/",children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsxs)("header",{children:[Object(r.jsx)(G.b,{className:"link",to:"/search",children:Object(r.jsx)(d.a,{variant:"contained",color:"link",children:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0431\u0430\u043a\u0442\u0435\u0440\u0438\u0438"})}),Object(r.jsx)(G.b,{className:"link",to:"/info",children:Object(r.jsx)(d.a,{variant:"contained",color:"link",children:"\u041b\u0435\u0433\u0435\u043d\u0434\u0430"})}),Object(r.jsx)(G.b,{className:"link",to:"/contacts",children:Object(r.jsx)(d.a,{variant:"contained",color:"link",children:"\u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c"})})]}),Object(r.jsxs)(K.c,{children:[Object(r.jsxs)(K.a,{path:"/search",children:[Object(r.jsxs)("div",{className:"filter",children:[Object(r.jsx)("p",{children:"\u0424\u0438\u043b\u044c\u0442\u0440"}),Object(r.jsxs)("div",{className:"filterButtons",children:[Object(r.jsx)(M,{data:t,name:"\u041e \u0430\u043d\u0442\u0438\u0433\u0435\u043d\u044b"}),Object(r.jsx)(M,{data:a,name:"H1 \u0430\u043d\u0442\u0438\u0433\u0435\u043d\u044b"}),Object(r.jsx)(M,{data:i,name:"H2 \u0430\u043d\u0442\u0438\u0433\u0435\u043d\u044b"})]})]}),Object(r.jsx)("input",{value:n,onChange:function(n){e(V(String(n.target.value)))}}),Object(r.jsx)("button",{onClick:function(){c().then((function(e){console.log(e)}))},children:"\u0424\u0438\u043b\u044c\u0442\u0440"}),Object(r.jsx)(U,{})]}),Object(r.jsx)(K.a,{path:"/admin",children:Object(r.jsx)("p",{children:"admin"})}),Object(r.jsx)(K.a,{path:"/info",children:Object(r.jsx)("p",{children:"info"})}),Object(r.jsx)(K.a,{path:"/contacts",children:Object(r.jsx)("p",{children:"contacts"})}),Object(r.jsx)(K.a,{path:"/",children:Object(r.jsx)("p",{children:"main window"})})]})]})})},X=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,138)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),i(e),c(e)}))},Y=Object(F.a)({reducer:{search:D}}),Z=t(55),$=t.n(Z);Y.subscribe($()((function(){!function(e,n){try{var t=JSON.stringify(e);localStorage.setItem(n,t)}catch(r){throw new Error("Can't save changes in local storage")}}({state:Y.getState()},"reducer")}),1e3)),s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(m.a,{store:Y,children:Object(r.jsx)(Q,{})})}),document.getElementById("root")),X()}},[[86,1,2]]]);
//# sourceMappingURL=main.feeb2d42.chunk.js.map